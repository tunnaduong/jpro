<script>
  var id_url = location.pathname.split("/")[2];

  function changePost(data) {
    $("#detail").css("display", "block");
    $("#post_title").text(data.title);
  }

  (async function getPostDetail(id) {
    try {
      const response = await axiosInstance.get("/post/" + id + "/");
      console.log(response);
      changePost(response.data);
      return response.data;
    } catch (error) {
      if (error.response) {
        console.log("failed");
        console.log(error.response.data);
      }
    }
  })(id_url);
</script>
<div id="detail" style="display: none">
  <div id="title" class="container">
    <h2 class="title" id="post_title">Buổi chia sẻ kiến thức</h2>
    <div class="detail-title">
      <div class="left">
        <a href="/pbhuu/profile">
          <div class="author cover-box">Lê Thanh Bình</div>
        </a>
        <div class="date">Mar 08, 2022 22:30</div>
      </div>
      <div class="right">
        <a href="/discussions">
          <div class="return cover-box more">
            <span
              >Trang thảo luận<i class="fas fa-long-arrow-alt-right"></i
            ></span>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="image-cover">
    <img id="cover_img" src="../../static/images/JS.png" alt="Cover Image" />
    <div id="subtitle">
      <div class="subtitle-wrapper">
        <div class="summary-wrapper">
          <div class="dropcaps subtitle">
            GitLab là một hệ thống quản lý dự án và phiên bản code, hoạt động
            giống như một mạng xã hội cho lập trình viên. Các lập trình viên có
            thể clone lại mã nguồn từ một repository và Gitlab chính là một dịch
            vụ máy chủ repository công cộng, mỗi người có thể tạo tài khoản trên
            đó để tạo ra các kho chứa của riêng mình để có thể làm việc.
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="content">
    <div class="container discuss-detail-content">
      <p>
        Mai Chau district has a total population of 55.663 people whilst 50% are
        women. There are 5 majoritty ethnic in Mai Chau including 73,3% Thai
        Ethnic, 17,33% Muong Ethnic, 11,96 Kinh Ethnic, 9,83 % Mong Ethnic, 3.58
        % Giao Ethnic. Mai Chau is divided into 22 villages with the percent of
        poor households take 21,14%( households with income of average 30$ per
        month). Average population of Mai Chau is 35 years
      </p>
      <p>
        Four villages in the Mai Chau valley have formed a coalition,
        manufacturing brocade cloth with the productive force of more than 300
        loin looms, in order to develop handicraft tourism in their regions. The
        people of the Lac, Nhot, Van and Pom Coong brocade villagers sell unique
        handbags, clothes, wallets and pieu handkerchiefs made of brocade as the
        mean of
      </p>
      <p>
        Weaving with the use of the traditional loin loom is a skill and
        occupation that is passed down generations among women in these
        villages. Even as women are engaged in cultivation, weaving is a
        secondary occupation, with every household owning a traditional loom.
        Though women or girls may not necessarily undergo training in weaving,
        the skills are learnt through lived experiences and by participating in
        the activity from an early age while assisting their mothers or elders.
      </p>
      <p>
        Traditionally, the loin loom has an economic significance as well and
        forms an important part of the socio-culture of tribal societies. But
        unfortunately, over the years, loin looms have been slowly disappearing
        and so is the weaving skill. As the result, younger generation no longer
        has the skill nor the knowledge as weaving is not done in their homes.
      </p>
      <p>
        The massive invasion of cheap materials and products from china has
        quickly taken the market. The traditional weaving village slowly
        disappear. Many young people had to leave their village to be workers in
        the cities to secure some stable income for the family and themselves.
        The whole traditional weaving village of Mai Chau face the challenge of
        being disappear since the young generation will no longer how to work on
        the loom as they see no future of it and the old generation will also
        slowly pass away without having a chance to let their children to
        inherit from their skillful weaving skill.
      </p>
      <p>
        Nowadays, income of most people in the villages is based on cultivation
        and tourism by providing accommodation, food, organizing tours and
        selling souvenirs to tourists. The weaving village has been therefore
        becoming more and more commercial and lost its root to the cultural and
        traditional values.
      </p>
    </div>
    <hr />
    <div class="container count">
      <div>
        <i class="far fa-heart heart"></i>
        <span class="number">35</span> likes
      </div>
      <div>
        <i class="far fa-comment-alt"></i>
        <span class="number">35</span> comments
      </div>
      <div>
        <i class="far fa-share-square"></i>
        <span class="number">10</span> chia sẻ
      </div>
      <div>
        <i class="far fa-eye"></i> <span class="number">2,5k</span> views
      </div>
    </div>
    <hr />
    <div class="discuss-comments container">
      <div class="comment-wrapper">
        <div class="comment-container">
          <div class="comment">
            <div class="user">
              <img
                src="../../static/images/SHIP 2.png"
                class="user-image"
                alt=""
              />
              <div class="user-detail">
                <div class="username">Trần Thùy Trang</div>
                <div class="time-comment">
                  30 phút trước · <i class="fas fa-globe-asia"></i>
                </div>
              </div>
            </div>
            <div class="comment-detail">Đẹp trai ghê</div>
            <div class="reply">
              <div class="comment-react">Thích</div>
              <div class="comment-reply">Phản hồi</div>
            </div>
          </div>
          <div class="comment-wrapper">
            <div class="comment-container">
              <div class="comment">
                <div class="user">
                  <img
                    src="../../static/images/SHIP 2.png"
                    class="user-image"
                    alt=""
                  />
                  <div class="user-detail">
                    <div class="username">Trần Thùy Trang</div>
                    <div class="time-comment">
                      30 phút trước · <i class="fas fa-globe-asia"></i>
                    </div>
                  </div>
                </div>
                <div class="comment-detail">Đẹp trai ghê</div>
                <div class="reply">
                  <div class="comment-react">Thích</div>
                  <div class="comment-reply">Phản hồi</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="post-comment">
          <div class="input-cover">
            <img
              src="../../static/images/SHIP 2.png"
              class="user-image"
              alt=""
            />
            <input
              type="text"
              name="postComment"
              id=""
              placeholder="Viết bình luận tại đây..."
            />
          </div>
          <div class="up-img">
            <input
              type="file"
              hidden
              multiple="false"
              id="upFile"
              accept="image/*"
            />
            <label for="upFile">
              <ion-icon name="camera-outline"></ion-icon>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  const heart = document.querySelector(".heart");
  const num = document.querySelectorAll(".number");
  heart.addEventListener("click", function () {
    if (heart.className === "far fa-heart heart") {
      heart.className = "fas fa-heart heart";
      heart.style.color = "red";
      num[0].innerHTML = parseInt(num[0].innerHTML) + 1;
    } else {
      heart.className = "far fa-heart heart";
      heart.style.color = "#676669";
      num[0].innerHTML = parseInt(num[0].innerHTML) - 1;
    }
  });
</script>
<script src="/utils/redirect.js"></script>
<script>
  $("#page-title").text("Cuộc thảo luận - JPro");
</script>
